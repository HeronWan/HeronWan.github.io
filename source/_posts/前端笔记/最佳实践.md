# 最佳实践

​						--《JavaScript高级程序设计》笔记

## 一，可维护性



1. 什么是可维护性？
   - 可理解性 --- 其他人可以接手代码并理解它的意图。
   - 直观性 --- 代码中的东西一看就能明白，不管其操作过程多么复杂
   - 可适应性 --- 代码以一种数据上的变化不要求完全重写的方法撰写
   - 可扩展性--- 在代码架构上已考虑在未来允许对核心功能进行扩展
   - 可调式性--- 的出错失时，代码可以给予你足够的信息来尽可能直接地确定问题所在。

2. 代码约定：
   - 可读性
     - 缩进
     - 注释
   - 变量和函数命名
     - 变量名应该为名词，如car
     - 函数名为动词开始 ，如 getName(), setName()
     - 变量和函数都应该使用合乎逻辑的名字
   - 变量类型透明 （推荐第一种 和 第二种）
     - 初始化 
     - 匈牙利标记法---在变量名前面添加前缀：
       - o代表对象
       - s字符串
       - i整数
       - f浮点数
       - b布尔值
     - 指定类型的注释
3. 松散耦合 -- 某部分过分依赖另一部分，代码就会 耦合过紧，难以维护
   - 解耦js/html
   - 解耦js/css
   - 解耦应用逻辑/事件处理程序
     - 问题：某个事件处理程序除了包含应用逻辑，还进行事件处理，会让调试变得困难
     - 解决：分离应用逻辑和事件处理程序，两者分别处理各自的东西。一个事件处理程序应该从事件对象中提取相关信息，并将这些信息传递到处理应用逻辑的某个方法中
     - 好处：容易更改触发特定过程的事件。容易进行调试代码，创建单元测试等。
4. 编程实践
   - 尊重对象所有权
   - 减少全局变量
   - 进行充分的类型检测
   - 使用一个常量命名空间，便于统一管理。

## 二，性能优化

1. 注意作用域
   1. 避免全局查找，使用局部变量指向已经查找好的全局变量
   2. 避免使用with
2. 选择正确的方法
   1. 避免不必要的属性查询，可以使用数组查询
      - 属性查询的复杂度为 O(n),数组查询的复杂度O(1)
   2. 优化循环
      1. 减值迭代
      2. 简化终止条件
      3. 简化循环体
      4. 使用后测试循环 -- do{} while 语句 
   3. 避免双重解释，-- 不要使用类似eval() 方式解析
   4. 性能的其他注意事项
      1. 原生方法较快
      2. switch语句较快
      3. 位运算较快
3. 最小化语句数 -- 尽可能的合并语句
   1. 多个变量声明
   2. 插入迭代值
   3. 使用数组和对象字面量
4. 优化DOM交互
   1. 最小化现场更新
   2. 使用innerHTML
   3. 使用事件代理
      1. 任何可以冒泡的事件都不仅仅可以在时间目标上进行处理，目标的任何祖先节点上也能处理。
   4. 注意HTMLCollection ,对其查询开销很昂贵，减少查询次数

## 三，部署



